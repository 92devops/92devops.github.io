---
title: Vue环境搭建与入门
date: 2023-12-15 23:31:06
categories:
- vue
tags:
- vue
---

## Vue环境搭建与入门

### 1. 环境搭建

- 安装Node

```
wget https://nodejs.org/dist/v21.4.0/node-v21.4.0.pkg
➜  ~ node -v
v21.4.0
➜  ~ npm -v
10.2.4
```

- 安装npm镜像cnpm

```
sudo npm install -g cnpm --registry=https://registry.npmmirror.com
```

- 安装Vue CLI工具

```
sudo cnpm install -g @vue/cli
```

- 创建项目

```
sudo vue create vue-base
(node:16979) [DEP0040] DeprecationWarning: The `punycode` module is deprecated. Please use a userland alternative instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
?  Your connection to the default npm registry seems to be slow.
   Use https://registry.npmmirror.com for faster installation? Yes

Vue CLI v5.0.8
? Please pick a preset:
  Default ([Vue 3] babel, eslint)
  Default ([Vue 2] babel, eslint)
❯ Manually select features

Vue CLI v5.0.8
? Please pick a preset: Manually select features
? Check the features needed for your project: (Press <space> to select, <a> to toggle all, <i> to invert selection, and <enter> to proceed)
 ◉ Babel
 ◯ TypeScript
❯◉ Progressive Web App (PWA) Support
 ◯ Router
 ◯ Vuex
 ◯ CSS Pre-processors
 ◯ Linter / Formatter
 ◯ Unit Testing
 ◯ E2E Testing

Vue CLI v5.0.8
? Please pick a preset: Manually select features
? Check the features needed for your project: Babel, PWA
? Choose a version of Vue.js that you want to start the project with
  3.x
❯ 2.x

Vue CLI v5.0.8
? Please pick a preset: Manually select features
? Check the features needed for your project: Babel, PWA
? Choose a version of Vue.js that you want to start the project with 2.x
? Where do you prefer placing config for Babel, ESLint, etc.? (Use arrow keys)
❯ In dedicated config files
  In package.json
```

- 启动服务

```
cd vue-base
sudo npm run serve
```

### 2. Vue 语法入门

#### 2.1. 模版语法

- 文本：`<span>Message: {{ msg }}</span>`
- 原始HTML: `<span v-html="rawHtml"></span>`
- Attribute: `<div v-bind:id="dynamicId"></div>`
- 使用 JavaScript 表达式支持
    - `{{ number + 1 }}`
    - `{{ ok ? 'YES' : 'NO' }}`
    - `{{ message.split('').reverse().join('') }}`

> tips: `v-bind:` 可以简写成 `:`"
```
<template>
  <div>
    <h3>模版语法</h3>
   <p>{{ msg }}</p>
   <p v-html="rawhtml"></p>
   <p v-bind:class="active">Attribute</p>
   <p>你吃饭了吗？{{ ok ? 'YES' : 'NO' }}</p>
  </div>
</template>

<script>
import HelloWorld from './components/HelloWorld.vue'

export default {
  name: 'App',
  data() {
    return {
      msg: "这是一段文本",
      rawhtml: "<b>这是原始HTML</b>",
      active: "display",
      ok: true
    }
  },
  components: {
    HelloWorld
  }
}
</script>

<style>
#app {
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
</style>
```

#### 2.2. 条件渲染

- v-if
- v-else
- v-else-if
- 在 template 中 v-if 分组
- v-show: 基于 css display： none 实现

```
<template>
  <div>
    <h3>条件渲染</h3>
    <p v-if="flag">展示 True</p>
    <p v-else>展示 False</p>

    <template v-if="all">
      <p>1</p>
      <p>2</p>
      <p>3</p>
    </template>

    <div v-if="type === 'A'">A</div>
    <div v-else-if="type === 'B'">B</div>
    <div v-else-if="type === 'C'">C</div>
    <div v-else>Not A/B/C</div>
  </div>
</template>

<script>
import HelloWorld from "./components/HelloWorld.vue";

export default {
  name: "App",
  data() {
    return {
      flag: false,
      all: true,
      type: "A",
    };
  },
  components: {
    HelloWorld,
  },
};
</script>

<style>
#app {
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
</style>
```

#### 2.3 列表渲染

- v-for：基于一个数组来渲染一个列表,例如 `v-for="(item, index) in data"`
- v-for 来遍历一个对象的 property,例如：`v-for="(value, name, index) in object"`

```
<template>
  <div>
    <h3>列表渲染</h3>
    <ul>
      <li v-for="(item, index) in data" :key="index">
        {{ item.id }}-{{ item.text }}
      </li>
    </ul>

    <div v-for="(value, name) in object">{{ name }}: {{ value }}</div>
  </div>
</template>

<script>
import HelloWorld from "./components/HelloWorld.vue";

export default {
  name: "App",
  data() {
    return {
      data: [
        {
          id: 1001,
          text: "北京",
        },
        {
          id: 1002,
          text: "上海",
        },
        {
          id: 1003,
          text: "广州",
        },
      ],
      object: {
        title: "How to do lists in Vue",
        author: "Jane Doe",
        publishedAt: "2016-04-10",
      },
    };
  },
  components: {
    HelloWorld,
  },
};
</script>

<style>
#app {
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
</style>
```

#### 2.4 事件处理

- v-on:click="clickHandler": 点击事件

> v-on:click 可以简写为 @click

```
<template>
  <div>
    <h3>事件处理</h3>
    <button v-on:click="clickHandler">点击事件</button>
    <br>
    <p v-if="flag">我是新人，请多指教。</p>
    <button @click="flagHandler">切换按钮</button>
  </div>
</template>

<script>
import HelloWorld from "./components/HelloWorld.vue";

export default {
  name: "App",
  data() {
    return {
      flag: false
    };
  },
  methods: {
    clickHandler() {
      alert("hello vue.");
    },
    flagHandler() {
      this.flag = !this.flag
    }
  },
  components: {
    HelloWorld,
  },
};
</script>

<style>
#app {
  font-family: Avenir, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-align: center;
  color: #2c3e50;
  margin-top: 60px;
}
</style>
```
